$(document).ready(function(){var t=12,a=0;function s(a){var s=data;t+=1;let e=$(".catalog").find(".item[data-order=0]").clone();e.removeClass(),e.addClass("item"),e.attr("data-order",t),"full"==s[a].star?e.find(".star").attr("src","img/star.png"):e.find(".star").attr("src","img/star-empty.png"),e.attr("data-room",s[a].rooms),e.find(".imgblock img").attr("src",s[a].image),e.find(".info .name").html(s[a].name),e.find(".info .decoration").html(s[a].decoration),e.find(".info .area span").html(s[a].area+" м2"),e.find(".info .floor span").html(s[a].floor),e.find(".price").html("<span>"+s[a].price+"</span> руб."),e.find(".status").html(s[a].status),e.addClass(s[a].status_tag);let i=s[a].actions.length,n=0;for(;n<i;)e.find(".actions").append("<span>"+s[a].actions[n]+"</span>"),n++;e.appendTo(".catalog")}function e(t,a){return t>a?1:t<a?-1:void 0}function i(t,a){return t>a?-1:t<a?1:void 0}$(".more").click(function(){for(z=a;a<z+20;)s(a),a++}),$(".filters .price").click(function(){$(this).hasClass("active")?$(this).toggleClass("ascending"):($(".filters .place").removeClass("active"),$(this).addClass("active"));var t=[],a=0;$(".item").each(function(){t[a]=$(this).find(".price span").html(),a++});for(var s=0;s<a;)t[s]=t[s].replace(/\s+/g,""),t[s]=parseInt(t[s],10),console.log(t[s]),s++;$(this).hasClass("ascending")?t.sort(e):t.sort(i),$(".item").each(function(){let e=$(this).find(".price span").html().replace(/\s+/g,"");for(e=parseInt(e,10),console.log("price = "+e),s=0;s<a;){if(e==t[s])return void $(this).css("order",s);s++}})}),$(".filters .place").click(function(){$(this).hasClass("active")?$(this).toggleClass("ascending"):($(".filters .price").removeClass("active"),$(this).addClass("active"));var t=[],a=0;$(".item").each(function(){t[a]=$(this).attr("data-room"),console.log(t[a]),a++});for(var s=0;s<a;)s++;$(this).hasClass("ascending")?t.sort(e):t.sort(i),console.log(t),$(".item").each(function(){let e=$(this).attr("data-room");for(console.log("thisRooms = "+e),s=0;s<a;){if(e==t[s])return void $(this).css("order",s);s++}})}),$(window).scroll(function(){0!=$(this).scrollTop()?$(".upper").fadeIn():$(".upper").fadeOut()}),$(".upper").click(function(){$("html, body").animate({scrollTop:0},500)}),$(".form .button").click(function(){var t=$('.form input[name="email"').val();if(0==/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(t))return alert("Введите корректный e-mail"),!1}),$(".menu-show").click(function(){$(this).hasClass("triggered")?($(this).removeClass("triggered"),$(this).parent().children(".header-menu").slideUp()):($(this).addClass("triggered"),$(this).parent().children(".header-menu").slideDown(),$(this).parent().children(".header-menu").css("display","flex"))})});